---
import Layout from '@/layouts/Layout.astro';
import Breadcrumb from '@/components/Breadcrumb.astro';
import CTAStrip from '@/components/CTAStrip.astro';

const breadcrumbs = [
  { label: 'Início', href: '/' },
  { label: 'Serviços', href: '/servicos' },
];

const services = [
  {
    id: 'projetos-tecnologia',
    tag: '// tech',
    category: 'Desenvolvimento',
    title: 'Projetos de Tecnologia',
    description: 'Construímos software com excelência técnica e foco em valor de negócio. De MVPs validados a plataformas enterprise-grade.',
    subservices: [
      'Aplicações web responsivas (React, Next.js, Astro)',
      'Aplicativos mobile (PWA, React Native)',
      'APIs REST e GraphQL com documentação completa',
      'Arquitetura de microsserviços',
      'Integrações com sistemas legados e third-party',
      'MVPs rápidos e testados com usuários reais',
      'Migrações de sistemas com zero downtime',
      'DevOps, CI/CD e infraestrutura como código',
    ],
    deliverables: [
      'Documentação de arquitetura (ADRs)',
      'Código versionado com revisão de qualidade',
      'Pipeline CI/CD configurado e documentado',
      'Relatórios de qualidade e cobertura de testes',
      'Handover técnico completo para equipe interna',
    ],
    useCases: [
      'Startup que precisa lançar MVP em tempo recorde sem abrir mão de qualidade',
      'Empresa que precisa modernizar sistema legado gradualmente',
      'Operação que precisa integrar sistemas fragmentados em uma plataforma única',
    ],
    color: 'violet',
  },
  {
    id: 'projetos-ia',
    tag: '// ai',
    category: 'Inteligência Artificial',
    title: 'Projetos de IA',
    description: 'Integramos IA onde ela gera valor mensurável — não seguimos hype, seguimos resultado.',
    subservices: [
      'Fine-tuning de LLMs para domínios específicos',
      'Sistemas RAG (Retrieval-Augmented Generation)',
      'Agentes de IA autônomos com ferramentas customizadas',
      'Automação inteligente de processos operacionais',
      'Computer vision e processamento de imagens',
      'Análise preditiva e modelos de classificação',
      'Pipelines de dados para ML em produção',
      'Integração com OpenAI, Anthropic, Hugging Face',
    ],
    deliverables: [
      'Protótipo validado com usuários reais',
      'Pipeline de dados robusto e monitorado',
      'Modelo em produção com métricas de performance',
      'Documentação de prompts, fluxos e edge cases',
      'Plano de retreinamento e manutenção do modelo',
    ],
    useCases: [
      'Empresa com alto volume de atendimento que precisa escalar sem aumentar headcount',
      'Operação que precisa extrair insights de grandes volumes de documentos não estruturados',
      'Negócio que quer automatizar tarefas repetitivas de alto custo cognitivo',
    ],
    color: 'blue',
  },
  {
    id: 'assessoria',
    tag: '// advisory',
    category: 'Estratégia',
    title: 'Assessoria de Tecnologia',
    description: 'Atuamos como seu CTO externo ou parceiro estratégico de tecnologia — sem conflito de interesse, com visão independente.',
    subservices: [
      'Diagnóstico completo do ambiente tecnológico atual',
      'Roadmap de transformação digital priorizado',
      'Avaliação e seleção de fornecedores e ferramentas',
      'Arquitetura de solução para novos projetos',
      'Governance tecnológico e boas práticas',
      'Preparação para auditoria e due diligence técnica',
      'Mentoria de equipes técnicas internas',
      'Revisão de contratos e SLAs com fornecedores',
    ],
    deliverables: [
      'Relatório de diagnóstico com análise detalhada',
      'Roadmap de transformação priorizado com esforço e impacto',
      'Recomendações de stack com justificativa técnica e de negócio',
      'Plano de implementação faseado e realista',
      'Documentação de decisões arquiteturais',
    ],
    useCases: [
      'Empresa que cresceu rápido e perdeu controle sobre a evolução técnica',
      'Executivo que precisa tomar decisões de tecnologia sem equipe técnica interna',
      'Negócio em processo de M&A que precisa de due diligence técnica independente',
    ],
    color: 'neon',
  },
  {
    id: 'consultoria',
    tag: '// consulting',
    category: 'Consultoria',
    title: 'Consultoria em Soluções',
    description: 'Diagnóstico preciso, solução sob medida. Atacamos o problema real, não o sintoma.',
    subservices: [
      'Mapeamento de processos as-is e to-be',
      'Identificação e priorização de gargalos operacionais',
      'Design de solução orientado a outcome',
      'Desenvolvimento de POC para validação rápida',
      'Acompanhamento da implementação',
      'Treinamento e enablement de equipes',
      'Medição e comunicação de impacto gerado',
    ],
    deliverables: [
      'Blueprint de solução documentado',
      'Documentação de processos redesenhados',
      'Prova de conceito (POC) funcional',
      'Relatório de impacto estimado vs. realizado',
      'Plano de escala e próximas iterações',
    ],
    useCases: [
      'Empresa com problema claro mas sem caminho definido para resolvê-lo',
      'Projeto que travou e precisa de uma visão externa para destravar',
      'Liderança que precisa justificar investimento em tecnologia para board',
    ],
    color: 'violet',
  },
];
---

<Layout
  title="Serviços"
  description="Conheça os serviços da Projekt: Projetos de Tecnologia, Projetos de IA, Assessoria de Tecnologia e Consultoria em Soluções. Soluções sob medida para cada desafio."
>
  <!-- Page Hero -->
  <section class="page-hero section-sm" style="background:var(--bg);padding-bottom:0;">
    <div class="container" style="max-width:1280px;margin:0 auto;padding:0 1.5rem;">
      <Breadcrumb items={breadcrumbs} />

      <div style="max-width:680px;margin-top:2rem;">
        <span class="section-label">O que fazemos</span>
        <h1 class="section-title gradient-text" style="margin-bottom:1rem;">
          Serviços
        </h1>
        <p class="section-subtitle">
          Quatro frentes de atuação integradas para cobrir todo o ciclo do seu projeto — da estratégia à execução.
        </p>
      </div>
    </div>
  </section>

  <!-- Tab nav (anchor-based) -->
  <nav class="services-tabs-nav" aria-label="Navegação por serviço" style="position:sticky;top:var(--header-height);z-index:30;">
    <div class="container" style="max-width:1280px;margin:0 auto;padding:0 1.5rem;">
      <div class="tabs-list no-scrollbar">
        {services.map(s => (
          <a href={`#${s.id}`} class="tab-link">
            <span class="mono" style="font-size:0.7rem;opacity:0.6;">{s.tag}</span>
            {s.title}
          </a>
        ))}
      </div>
    </div>
  </nav>

  <!-- Services detail -->
  {services.map((service, i) => (
    <section
      id={service.id}
      class="service-detail-section"
      style={i % 2 === 0 ? 'background:var(--bg);' : 'background:var(--bg-alt);'}
      aria-labelledby={`service-heading-${service.id}`}
    >
      <div class="container" style="max-width:1280px;margin:0 auto;padding:0 1.5rem;">
        <div class="service-detail-grid">
          <!-- Left: Main info -->
          <div class="service-detail-main reveal">
            <div style="display:flex;align-items:center;gap:0.75rem;margin-bottom:1.25rem;">
              <span class="tag">{service.tag}</span>
              <span class="badge">{service.category}</span>
            </div>

            <h2 id={`service-heading-${service.id}`} class="section-title" style="margin-bottom:1rem;">
              {service.title}
            </h2>

            <p style="font-size:1.0625rem;color:var(--text-muted);line-height:1.75;margin-bottom:2.5rem;">
              {service.description}
            </p>

            <!-- Subservices -->
            <div style="margin-bottom:2.5rem;">
              <h3 style="font-family:'Syne',sans-serif;font-size:1rem;font-weight:700;color:var(--text);margin-bottom:1rem;letter-spacing:-0.01em;">
                O que inclui
              </h3>
              <ul style="list-style:none;padding:0;margin:0;display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;">
                {service.subservices.map(item => (
                  <li style="display:flex;align-items:flex-start;gap:0.5rem;font-size:0.875rem;color:var(--text-muted);">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="color:var(--accent-neon);flex-shrink:0;margin-top:3px;">
                      <polyline points="20 6 9 17 4 12"/>
                    </svg>
                    {item}
                  </li>
                ))}
              </ul>
            </div>

            <a href="/contato" class="btn-primary">
              Solicitar proposta para este serviço
            </a>
          </div>

          <!-- Right: Deliverables + Use cases -->
          <div class="service-detail-side reveal reveal-delay-2">
            <!-- Deliverables -->
            <div class="detail-card">
              <div class="detail-card-header">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="color:var(--accent);">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                  <polyline points="14 2 14 8 20 8"/>
                  <line x1="16" y1="13" x2="8" y2="13"/>
                  <line x1="16" y1="17" x2="8" y2="17"/>
                  <polyline points="10 9 9 9 8 9"/>
                </svg>
                <h3 class="detail-card-title">Entregáveis</h3>
              </div>
              <ul style="list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:0.625rem;">
                {service.deliverables.map(d => (
                  <li style="display:flex;align-items:flex-start;gap:0.625rem;font-size:0.875rem;color:var(--text-muted);">
                    <span style="color:var(--accent);font-weight:700;flex-shrink:0;font-size:1rem;line-height:1.4;">→</span>
                    {d}
                  </li>
                ))}
              </ul>
            </div>

            <!-- Use cases -->
            <div class="detail-card">
              <div class="detail-card-header">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" style="color:var(--accent-2);">
                  <circle cx="12" cy="12" r="10"/>
                  <line x1="12" y1="8" x2="12" y2="12"/>
                  <line x1="12" y1="16" x2="12.01" y2="16"/>
                </svg>
                <h3 class="detail-card-title">Para quem é</h3>
              </div>
              <ul style="list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:0.75rem;">
                {service.useCases.map(uc => (
                  <li style="font-size:0.875rem;color:var(--text-muted);line-height:1.6;padding:0.75rem;background:var(--bg-alt);border-radius:var(--radius-sm);border-left:3px solid var(--accent-2);">
                    {uc}
                  </li>
                ))}
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
  ))}

  <CTAStrip />
</Layout>

<style>
  .page-hero {
    padding-top: 3rem;
    padding-bottom: 3rem !important;
  }

  .services-tabs-nav {
    background: var(--bg);
    border-bottom: 1px solid var(--border);
    padding: 0;
  }

  .tabs-list {
    display: flex;
    gap: 0;
    overflow-x: auto;
  }

  .tab-link {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.125rem;
    padding: 0.875rem 1.25rem;
    font-family: 'Inter', sans-serif;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text-muted);
    text-decoration: none;
    -webkit-text-fill-color: var(--text-muted);
    border-bottom: 2px solid transparent;
    transition: all 150ms ease;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .tab-link:hover {
    color: var(--text);
    border-bottom-color: var(--accent);
    background: var(--bg-alt);
    -webkit-text-fill-color: var(--text);
    opacity: 1;
  }

  .service-detail-section {
    padding: 5rem 0;
    border-bottom: 1px solid var(--border);
  }

  .service-detail-grid {
    display: grid;
    grid-template-columns: 1.3fr 1fr;
    gap: 4rem;
    align-items: start;
  }

  .service-detail-side {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    position: sticky;
    top: calc(var(--header-height) + 60px);
  }

  .detail-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
  }

  .detail-card-header {
    display: flex;
    align-items: center;
    gap: 0.625rem;
  }

  .detail-card-title {
    font-family: 'Syne', sans-serif;
    font-size: 0.9375rem;
    font-weight: 700;
    color: var(--text);
    margin: 0;
  }

  @media (max-width: 900px) {
    .service-detail-grid {
      grid-template-columns: 1fr;
      gap: 2.5rem;
    }

    .service-detail-side {
      position: static;
    }

    li[style*="grid-template-columns"] {
      grid-template-columns: 1fr !important;
    }
  }
</style>
